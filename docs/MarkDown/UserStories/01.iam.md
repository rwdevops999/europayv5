# IAM user stories

## Handling

- [x] IAM should allow you to handle services
- [x] IAM should allow you to handle service statements
- [x] IAM should allow you to handle policies
- [x] IAM should allow you to handle roles
- [x] IAM should allow you to handle users
- [x] IAM should allow you to handle groups

# GENERAL

- [ ] taken actions can always be cancelled

# IAM Sections

## Services

### description

By services, we can see which services are in the system and which actions are linked on these services.

### story (display)

- [x] A list of services is shown.
- [x] The service in the list can be expanded to show the linked actions.
- [x] It is possible to select each service seperatly.
- [x] It should be possible to search on services and actions.
- [x] The services list can be sorted on service name.

### story (create)

- [x] Services are created at startup. It is not possible to create a service manually.

### story (update)

- [x] Services can not be updated.

### story (delete)

- [x] Services can not be deleted.

### story (validate)

- [x] Services must not be validated.

#### validation data

- [x] There should be services and service actions created at startup.

## Service Statements

### description

Using service statements, we can combine actions of a service withing a group that is allowed or denied.
A service statement is service bound.

### story (display)

- [x] A list of available service statements is shown.
- [x] Service statements that are managed have an indication in the overview list.
- [x] Service statements can be selected per service.
- [x] A service statement can be expanded to show the service statement actions.
- [x] Service statements can be sorted.
- [x] A service statement can be created.
- [x] A service statement can be updated.
- [x] A service statement can be deleted.
- [x] Service statements can be searched for (also their statement actions)
- [x] Service statements can be listed depending on the permission ('allow' or 'deny') they are defined for (facetting).
- [x] The list of actions for a service statement allow us to changed to that service.

### story (create)

- [x] The statement form is cleared.
- [x] The service name is mandatory.
- [x] The service description is mandatory.
- [x] At least one action must be selected before creation is allowed.
- [x] The service name is unique.
- [x] The service can be managed.
- [x] It should be possible to select between 'allowed' and 'denied'.
- [x] A created service statement is immediatly added to the overview list.

### story (update)

- [x] The statement form contains all data from the statement to update
- [x] The service name is mandatory.
- [x] The service description is mandatory.
- [x] At least one action must be selected before update is allowed.
- [x] The service can change involved actions.
- [x] The service name is unique.
- [x] The service can be managed.
- [x] It should be possible to select between 'allowed' and 'denied'.
- [x] Any update is immediatly visible in the overview
- [ ] A service statement can't be updated when used in a policy.

### story (delete)

- [x] A service statement can be deleted.
- [x] A service statement can't be deleted (without proper permissions) when it is managed.
- [x] A service statement can't be deleted when it is used in a policy.
- [x] A deleted service statement is immediatly removed from the list.

### story (validate)

- [x] There is no need for validation because they only contain actions from a certain service.

#### validation data

## Policies

### description

Policies allow us to combine service statements of the same service. Here we can combine Allowed and Denied service statements.
Is still service bound.

### story (display)

- [x] A list of available policies is shown.
- [x] Policies that are managed have an indication in the overview list.
- [x] Policies can be selected per service.
- [x] A policy can be expanded to show the service statements.
- [x] Policies can be sorted.
- [x] A policy can be created.
- [x] A policy can be updated.
- [x] A policy can be deleted.
- [x] Policies can be searched for (also their service statements) ('allow' or 'deny') they are defined for (facetting).
- [x] The list of service statements allow us to changed to that service statement.

### story (create)

- [x] The policy form is cleared.
- [x] The policy name is mandatory.
- [x] The policy description is mandatory.
- [x] At least one statement must be selected before creation is allowed.
- [x] In case of selection of more than 1 service statement, validation is mandatory.
- [x] The policy name is unique.
- [x] The policy can be managed.
- [x] A created policy is immediatly added to the overview list.

### story (update)

- [x] The policy form contains all data from the policy to update
- [x] The policy name is mandatory.
- [x] The policy description is mandatory.
- [x] At least one service statement must be selected before update is allowed.
- [x] In case of selection of more than 1 service statement, validation is mandatory.
- [x] The policy can change involved statements.
- [x] The policy name is unique.
- [x] The policy can be managed.
- [x] Any update is immediatly visible in the overview
- [ ] A policy can't be updated when used in a role.
- [ ] A policy can't be updated when used by an user.
- [ ] A policy can't be updated when used by a group.

### story (delete)

- [x] A policy can be deleted.
- [x] A policy can't be deleted (without proper permissions) when it is managed.
- [ ] A policy can't be deleted when it is used in a role.
- [ ] A policy can't be deleted when it is used by an user.
- [ ] A policy can't be deleted when it is used by a group.
- [x] A deleted policy is immediatly removed from the list.

### story (validate)

- [x] by selection of 2 or more statements, validation becomes mandatory

#### validation data

- [x] Service statement 'A1' with Action 'A11' allowed
- [x] Service statement 'A2' with Action 'A11' denied
- [x] Service statement 'B1' with Action 'A12' denied

- [x] Policy 'A' with service statement 'A1' and 'B1' => VALID
- [x] Policy 'A' with service statement 'A1' and 'A2' => INVALID
- [x] Policy 'A' with service statement 'A2' and 'B1' => VALID

## Roles

### description

Roles allow us to combine policies. Here we can combine policies of different services.
So, roles are not service bound.

### story (display)

- [ ] A list of available roles is shown.
- [ ] Roles that are managed have an indication in the overview list.
- [ ] A role can be expanded to show linked policies.
- [ ] Role can be sorted.
- [ ] A role can be created.
- [ ] A role can be updated.
- [ ] A role can be deleted.
- [ ] Roles can be searched for.
- [ ] The list of roles allow us to change to the linked policy.

### story (create)

- [ ] The role form is cleared.
- [ ] The role name is mandatory.
- [ ] The role description is mandatory.
- [ ] At least one policy must be selected before creation is allowed.
- [ ] In case of selection of more than 1 policy, validation is mandatory.
- [ ] The role name is unique.
- [ ] The role can be managed.
- [ ] A created role is immediatly added to the overview list.

### story (update)

- [ ] The role form contains all data from the role to update
- [ ] The role name is mandatory.
- [ ] The role description is mandatory.
- [ ] At least one policy must be selected before update is allowed.
- [ ] In case of selection of more than 1 policy, validation is required.
- [ ] The role can change involved policies.
- [ ] The role name is unique.
- [ ] The role can be managed.
- [ ] Any update is immediatly visible in the overview
- [ ] A role can't be updated when used by an user.
- [ ] A role can't be updated when used by a group.

### story (delete)

- [ ] A role can be deleted.
- [ ] A role can't be deleted (without proper permissions) when it is managed.
- [ ] A role can't be deleted when it is used by an user.
- [ ] A role can't be deleted when it is used by a group.
- [ ] A deleted role is immediatly removed from the list.

### story (validate)

- [ ] by selection of 2 or more policies, validation is required

#### validation data

- [ ] Service statement 'A1' with Action 'A11' allowed
- [ ] Service statement 'A2' with Action 'A11' denied
- [ ] Service statement 'B1' with Action 'A12' denied

- [ ] Policy 'P1' with service statement 'A1'
- [ ] Policy 'P2' with service statement 'A2'
- [ ] Policy 'P3' with service statement 'B1'

- [ ] Role 'R1' with policy P1 and P2 => INVALID
- [ ] Role 'R1' with policy P1 and P3 => VALID

## Users

### description

Users can be created with roles and policies. Users can be assigned to groups.

### story (display)

- [ ] A list of users is shown.
- [ ] Users that are managed have an indication in the overview list.
- [ ] Users that are blocked have an indication in the overview list.
- [ ] Users can be sorted.
- [ ] An user can be created.
- [ ] An user can be updated.
- [ ] An user can be deleted.
- [ ] Users can be searched for.

### story (create)

- [ ] The user form is cleared.
- [ ] The user lastname is mandatory.
- [ ] The user firstname is mandatory.
- [ ] The user email is mandatory.
- [ ] The user password is mandatory.
- [ ] An avatar can be assigned.
- [ ] Updating an users country will automatically update dial code
- [ ] An user can be blocked.
- [ ] An user can be managed.
- [ ] In case of selection of more than 1 dependency, validation is mandatory.
- [ ] The username is unique.
- [ ] A created user is immediatly added to the overview list.
- [ ] Policies can be assigned.
- [ ] Roles can be assigned.
- [ ] Groups can be assigned.

### story (update)

- [ ] The user form is contains the users values.
- [ ] linked policies are selected.
- [ ] linked groups are selected.
- [ ] linked roles are selected.
- [ ] policies can be changed
- [ ] groups can be changed
- [ ] roles can be changed
- [ ] An avatar can be assigned.
- [ ] The user lastname is mandatory.
- [ ] The user firstname is mandatory.
- [ ] The user email is mandatory.
- [ ] The user password is mandatory.
- [ ] Updating an users country will automatically update dial code
- [ ] An user can be blocked.
- [ ] An user can be managed.
- [ ] In case of selection of more than 1 dependency, validation is mandatory.
- [ ] The username is unique.
- [ ] An updated user is immediatly updated to the overview list.

### story (delete)

- [ ] An user can be deleted.
- [ ] An user can't be deleted (without proper permissions) when it is managed.
- [ ] An user can't be deleted when it is assigned to a group.
- [ ] A deleted user is immediatly removed from the list.

### story (validate)

When the sum of linked dependencies is greater than 1, validation is mandatory.
Dependencies for validation are:

- policies
- roles
- groups

#### validation data

## Groups

### description

Groups can be created with roles and policies. Users can be assigned to groups.

### story (display)

- [ ] A list of groups is shown.
- [ ] Groups that are managed have an indication in the overview list.
- [ ] Groups can be sorted.
- [ ] An group can be created.
- [ ] An group can be updated.
- [ ] An group can be deleted.
- [ ] Groups can be searched for.

### story (create)

- [ ] The group form is cleared.
- [ ] The group name is mandatory.
- [ ] An group can be managed.
- [ ] In case of selection of more than 1 dependency, validation is mandatory.
- [ ] The group name is unique.
- [ ] A created group is immediatly added to the overview list.
- [ ] Policies can be assigned.
- [ ] Roles can be assigned.
- [ ] Users can be assigned.

### story (update)

- [ ] The group form is contains the selected group values.
- [ ] linked policies are selected.
- [ ] linked users are selected.
- [ ] linked roles are selected.
- [ ] policies can be changed
- [ ] users can be changed
- [ ] roles can be changed
- [ ] The group name is mandatory.
- [ ] An group can be managed.
- [ ] In case of selection of more than 1 dependency, validation is mandatory.
- [ ] The group name is unique.
- [ ] An updated group is immediatly updated to the overview list.

### story (delete)

- [ ] An group can be deleted.
- [ ] An group can't be deleted (without proper permissions) when it is managed.
- [ ] A deleted group is immediatly removed from the list.

### story (validate)

When the sum of linked dependencies is greater than 1, validation is mandatory.
Dependencies for validation are:

- policies
- roles
